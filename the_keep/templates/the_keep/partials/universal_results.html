{% load i18n %}

{% if no_results and query %}
    <ul>{% trans 'No results found for' %} "{{ query }}".</ul>
{% else %}
    <ul>
        {% if factions %}
            <strong>{% trans 'Factions' %}</strong>
            {% for result in factions %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if decks %}
            <strong>{% trans 'Decks' %}</strong>
            {% for result in decks %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if maps %}
            <strong>{% trans 'Maps' %}</strong>
            {% for result in maps %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if vagabonds %}
            <strong>{% trans 'Vagabonds' %}</strong>
            {% for result in vagabonds %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if landmarks %}
            <strong>{% trans 'Landmarks' %}</strong>
            {% for result in landmarks %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if hirelings %}
            <strong>{% trans 'Hirelings' %}</strong>
            {% for result in hirelings %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if tweaks %}
            <strong>{% trans 'House Rules' %}</strong>
            {% for result in tweaks %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if expansions %}
            <strong>{% trans 'Expansions' %}</strong>
            {% for result in expansions %}
                {% include 'the_keep/partials/post_snippet_medium.html' %}
            {% endfor %}
        {% endif %}

        {% if games %}
            <strong>{% trans 'Games' %}</strong>
            {% for result in games %}
            <a href="{{ result.get_absolute_url }}">
                <div class='clickable-segment'>
                    {{ result.nickname }} ({{ result.platform }}) {% trans 'Recorded by' %} {{ result.recorder.name }}
                </div>
            </a>
            {% endfor %}
        {% endif %}

        {% if tournaments or rounds %}
            <strong>{% trans 'Series' %}</strong>
            {% for result in tournaments %}
            <a href="{{ result.get_absolute_url }}">
                <div class='clickable-segment'>
                    {{ result.name }}
                </div>
            </a>
            {% endfor %}
            {% for result in rounds %}
            <a href="{{ result.get_absolute_url }}">
                <div class='clickable-segment'>
                    {{ result.name }}
                </div>
            </a>
            {% endfor %}
        {% endif %}

        {% if scorecards %}
            <strong>{% trans 'Scorecards' %}</strong>
            {% for result in scorecards %}
            <a href="{{ result.get_absolute_url }}">
                <div class='clickable-segment'>
                    {{ result.game_group }} - {{ result.faction.title }}
                </div>
            </a>
            {% endfor %}
        {% endif %}

        {% if players %}
            <strong>{% trans 'Profiles' %}</strong>
            <div class='mb-2'>
            {% for result in players %}
            <a href="{{ result.get_absolute_url }}">
                <div class='clickable-segment'>
                        <img class="faction-icon image1" src="{{ result.image.url }}" alt="{{ result.name }} Picture">
                        {{ result.name }}
                </div>
            </a>
            {% endfor %}
        </div>
        {% endif %}

        {% if resources %}
            <strong>{% trans 'Resources' %}</strong>
            {% for result in resources %}
            <a href="{{ result.get_absolute_url }}">
                <div class='clickable-segment'>
                {{ result.title }} - {{ result.category }} {{ result.file_type }} ({{ result.link|slice:":30" }}{% if result.link|length > 30 %}...{% endif %})
                </div>
            </a>
            {% endfor %}
        {% endif %}

        {% if pieces %}
            <strong>{% trans 'Pieces' %}</strong>
            {% for result in pieces %}

                {% include 'the_keep/partials/post_snippet_piece.html' %}

            {% endfor %}
        {% endif %}

        {% if color_group %}
            <strong>{% trans 'Color Match' %}</strong>
            <a href="{% url 'color-group' color_group.label %}">
                <div class='clickable-segment color-group-container mb-2'>
                    <div class="color-square" style="background-color: {{ color_group }};"></div>
                    <div>
                    {{ color_group.label }} {% trans 'Components' %}
                    </div>
                </div>
            </a>
        {% endif %}
    </ul>
{% endif %}
