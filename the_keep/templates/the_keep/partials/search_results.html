<div id="search-results">
{% if posts %}
    {% for object in posts %}
        

            {% if forloop.last and posts.has_next %}
            <article class="media content-section" hx-trigger="revealed" 
            hx-get="{% url 'search' %}"
            hx-vals='{"page": "{{ posts.next_page_number }}", "search": "{{ search }}", "search_type": "{{ search_type }}", "designer": "{{ designer }}", "faction_type": "{{ faction_type }}", "reach_value": "{{ reach_value }}", "status": "{{ status }}"}'
            hx-target="#search-results"
            hx-swap="beforeend"
            hx-indicator="#spinner">
            {% else %}
            <article class="media content-section">
            {% endif %}
            
            {% include 'the_keep/partials/post.html' %}
        </article>

    {% endfor %} 

    <div id="spinner" class="d-flex justify-content-center htmx-indicator">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>


{% else %}
    <h3>No results</h3>
{% endif %}


</div>



