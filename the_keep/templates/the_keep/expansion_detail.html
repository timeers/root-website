{% extends 'the_keep/base.html' %}
{% block title %} - {{ expansion.title }}{% endblock %}
{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center;">
        <h1>{{ expansion.title }}</h1>
        {% if expansion.designer == user.profile and user.profile.designer %}
                <div>
                    <a class="btn btn-warning btn-sm mt-1 mb-1" href="{% url 'expansion-update' expansion.slug %}"><i class="bi bi-pencil-square"></i></a>
                    <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'expansion-delete' expansion.slug %}"><i class="bi bi-trash3"></i></a>
                </div>
        {% endif %}
</div>
        {% if expansion.designer %}
            by: 
            <a class="mr-2" href="{% url 'player-detail' expansion.designer.slug %}">{{ expansion.designer.name }}</a>
        {% endif %}
        {% if expansion.lore %}
            <p class="lore-content mt-2">{{ expansion.lore }}</p>
        {% endif %}
        {% if expansion.description %}
        <div>{{ expansion.description }}</div>
        {% endif %}




        {% if expansion.get_posts %}
            {% if expansion.get_factions %}
            <h2>Factions</h2>
            {% for object in expansion.get_factions %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
            {% if expansion.get_decks %}
            <h2>Decks</h2>
            {% for object in expansion.get_decks %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
            {% if expansion.get_maps %}
            <h2>Maps</h2>
            {% for object in expansion.get_maps %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
            {% if expansion.get_vagabonds %}
            <h2>Vagabonds</h2>
            {% for object in expansion.get_vagabonds %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
            {% if expansion.get_hirelings %}
            <h2>Hirelings</h2>
            {% for object in expansion.get_hirelings %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
            {% if expansion.get_landmarks %}
            <h2>Landmarks</h2>
            {% for object in expansion.get_landmarks %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
            {% if expansion.get_clockwork %}
            <h2>Clockwork Factions</h2>
            {% for object in expansion.get_clockwork %}
                <article class="media content-section">
                    {% include 'the_keep/partials/post.html' %}
                </article>
            {% endfor %}
            {% endif %}
        {% else %}
                Looks like nothing has been added to this expansion yet. Please check back later.
        {% endif %}
    
{% endblock content %} 