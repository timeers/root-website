{% extends 'the_keep/base.html' %}
{% block content %}
        <legend>Record New Game</legend>

<!-- Game Data -->

        <div class="row">
    
            <div class="col-2 col-md-2">
                <!-- <label for="{{ form.player.id_for_label }}">{{ form.player.label }}</label> -->
                {{ game.deck }}
            </div>
            <div class="col-2 col-md-2">
                <!-- <label for="{{ form.faction.id_for_label }}">{{ form.faction.label }}</label> -->
                {{ game.map }}
            </div>
            <div class="col-2 col-md-2">
                <!-- <label for="{{ form.score.id_for_label }}">{{ form.score.label }}</label> -->
                {{ game.type }}
            </div>
            <div class="col-2 col-md-2">
                <!-- <label for="{{ form.win.id_for_label }}">{{ form.win.label }}</label> -->
                {{ game.platform }}
            </div>
    
        </div>





<!-- Labels -->
        <div class="row">
            <div class="col-2 col-md-2">
                Player
            </div>
            <div class="col-2 col-md-2">
                Faction
            </div>
            <div class="col-2 col-md-2">
                Score
            </div>
            <div class="col-2 col-md-2">
                Win
            </div>
     
            <div class="col-2 align-self-end">
                Cancel
            </div>
        </div>


<!-- Player Data -->
        <div id="effort-forms">
            {% include 'the_warroom/partials/effort_form.html' %}
        </div>


<!-- Submit and add player button -->
        <div class="my-4">
            <button type="button" class="btn btn-success me-2"
                id="add-player-button"
                hx-get="{% url 'create-player' %}"
                hx-target="#effort-forms"
                hx-swap="beforeend">+ Add Player</button>
            <!-- <button type="button" class="btn btn-primary" id="submit-all">Submit All</button> -->
            <button type="button" class="btn btn-primary" id="submit-all"
            hx-on="click: this.style.backgroundColor='grey'; this.disabled=true; 
            document.getElementById('add-player-button').style.backgroundColor='grey'; 
            document.getElementById('add-player-button').disabled=true;">Submit All</button>
        </div>
        <!-- List of all efforts. Should remove this later -->
        <!-- <ul id="effort-list">
            {% for effort in efforts %}
                {% include 'the_warroom/partials/effort.html' %}
            {% endfor %}
        </ul> -->
{% endblock content %}