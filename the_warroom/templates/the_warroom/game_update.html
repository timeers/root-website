{% extends 'the_keep/base.html' %}
{% block title %} - Update Game{% endblock %}
{% load crispy_forms_tags i18n %}
{% block content %}
    <div class="content-section">
        <form method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">{% trans 'Update Game' %}</legend>
                {{ form | crispy }}
            </fieldset>
            <div class="form-group">
                <button class="btn btn-info" type="submit">{% trans 'Save' %}</button>
                <a class="btn btn-secondary" href="{% url 'game-detail' object.pk %}">{% trans 'Cancel' %}</a>
            </div>
        </form>
    </div>
{% endblock content %}

{% block scripts %}
        <script>

            $(document).ready(function(){
                // Get today's date in the required format (YYYY-MM-DD)
                var today = new Date().toISOString().split('T')[0]; // This gives the date in the format YYYY-MM-DD
        
                // Apply the jQuery UI datepicker to the 'datepicker' field
                $(".datepicker").datepicker({
                    dateFormat: "yy-mm-dd",   // Format the date (you can adjust this as needed)
                    changeMonth: true,         // Allow month change via dropdown
                    changeYear: true,          // Allow year change via dropdown
                    yearRange: "2018:c+10",   // Year range (from 100 years ago to 10 years in the future)
                    maxDate: today             // Set the max date to today
                });
            });
        </script>
{% endblock %}