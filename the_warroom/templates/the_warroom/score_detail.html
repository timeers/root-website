{% extends 'the_keep/base.html' %}
{% block content %}

<div style="display: flex; justify-content: space-between; align-items: center;">
<h1>Points per Turn</h1>

{% if user.profile == object.recorder %}
    <a class="btn btn-warning btn-sm" href="{% url 'update-scorecard' object.id %} "><i class="bi bi-pencil-square"></i></a>
{% endif %}
</div>

{% if object.effort %}

    <div>
    <a href="{% url 'game-detail' object.effort.game.id %}">{{ object.effort.game.type }} {{ object.effort.game.platform }}{% if object.effort.game.league %} League{% endif %} Game</a> 
    </div>
    {% if object.effort.player %}
    <div>
        Player: <a href="{% url 'player-detail' object.effort.player.slug %}">{{ object.effort.player.name }}</a>
    </div>
    {% endif %}
{% endif %}
<div>
    <a href="{% url 'faction-detail' object.faction.slug %}">{{ object.faction }}</a> - {{ object.turns.count }} Turns
</div>
<small>
    Recorded by <a href="{% url 'player-detail' object.recorder.slug %}">{{ object.recorder.name }}</a>
</small>

{% include 'the_warroom/partials/scorecard.html' %}


{% endblock content %}