{% load i18n %}
<div id="games-container">


    <div class="row">
       
            {% if has_top_players or has_most_players %}
            <div class="col-lg-6 col-12">
                <article class="d-flex content-section">
                    <div class="w-100">
                    
                        <h2 class='root-title text-center'>{% if top_players and most_players %}
                            {% trans 'Player Leaderboards' %}
                            {% else %}
                            {% trans 'Player Leaderboard' %}
                            {% endif %}</h2>
                
                        {% if has_top_players and has_most_players %}
                        <ul class="nav nav-tabs" id="playerLeaderboardTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="player-winrate-tab" data-bs-toggle="tab" href="#player-winrate" role="tab" aria-controls="player-winrate" aria-selected="true">{% trans 'By Winrate' %}</a>
                            </li>      
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="player-gameswon-tab" data-bs-toggle="tab" href="#player-gameswon" role="tab" aria-controls="player-gameswon" aria-selected="false">{% trans 'By Games Won' %}</a>
                            </li>        
                
                        </ul>
                        {% endif %}
                
                        {% if has_top_players %}
                            {% if has_top_players and has_most_players %}
                            <div class="tab-content" id="tab-contents">
                
                                <div class="tab-pane active" id="player-winrate" role="tabpanel" aria-labelledby="player-winrate-tab">
                            {% else %}
                            <h4>{% trans 'By Winrate' %}</h4>
                            {% endif %}
                            {% with top_players as leaderboard_players %}
                                {% include 'the_gatehouse/partials/leaderboard.html' %}
                            {% endwith %}
                
                        {% if has_top_players and has_most_players %}
                            </div>
                        {% endif %}
                        {% endif %}
                
                        {% if has_most_players %}
                            {% if has_top_players and has_most_players %}
                                <div class="tab-pane" id="player-gameswon" role="tabpanel" aria-labelledby="player-gameswon-tab">
                            {% else %}
                            <h4>{% trans 'By Games Won' %}</h4>
                            {% endif %}
                            {% with most_players as leaderboard_players %}
                                {% include 'the_gatehouse/partials/leaderboard.html' %}
                            {% endwith %}
                
                            {% if has_top_players and has_most_players %}
                                </div>
                                </div>
                            {% endif %}
                        {% endif %}
                        {% if leaderboard_threshold > 0 %}
                        <small class="mb-2">*{% trans 'Leaderboard Threshold of' %} {{ leaderboard_threshold }}</small>
                        {% endif %}
                    </div>
                </article>
            </div>
        
        {% endif %}



        {% if has_top_factions or has_most_factions %}
        <div class="col-lg-6 col-12">
            <article class="d-flex content-section">
                <div class="w-100">
                
                    <h2 class='root-title text-center'>{% if top_factions and most_factions %}
                            {% trans 'Faction Leaderboards' %}
                        {% else %}
                            {% trans 'Faction Leaderboard' %}
                        {% endif %}</h2>
            
                    {% if has_top_factions and has_most_factions %}
                    <ul class="nav nav-tabs" id="factionLeaderboardTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="faction-winrate-tab" data-bs-toggle="tab" href="#faction-winrate" role="tab" aria-controls="faction-winrate" aria-selected="true">{% trans 'By Winrate' %}</a>
                        </li>  
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="faction-gameswon-tab" data-bs-toggle="tab" href="#faction-gameswon" role="tab" aria-controls="faction-gameswon" aria-selected="false">{% trans 'By Games Won' %}</a>
                        </li>        
                
                    </ul>
                    {% endif %}
            
                    {% if has_top_factions %}
                        {% if has_top_factions and has_most_factions %}
                        <div class="tab-content" id="tab-contents">
            
                            <div class="tab-pane active" id="faction-winrate" role="tabpanel" aria-labelledby="faction-winrate-tab">
                        {% else %}
                        <h4>{% trans 'By Winrate' %}</h4>
                        {% endif %}
                        {% with top_factions as leaderboard_factions %}
                            {% include 'the_keep/partials/leaderboard.html' %}
                        {% endwith %}
            
                    {% if has_top_factions and has_most_factions %}
                        </div>
                    {% endif %}
                    {% endif %}
            
                    {% if has_most_factions %}
                        {% if top_factions and most_factions %}
                            <div class="tab-pane" id="faction-gameswon" role="tabpanel" aria-labelledby="faction-gameswon-tab">
                        {% else %}
                        <h4>{% trans 'By Games Won' %}</h4>
                        {% endif %}
                        {% with most_factions as leaderboard_factions %}
                            {% include 'the_keep/partials/leaderboard.html' %}
                        {% endwith %}
            
                        {% if has_top_factions and has_most_factions %}
                            </div>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if leaderboard_threshold > 0 %}
                    <small class="mb-2">*{% trans 'Leaderboard Threshold of' %} {{ leaderboard_threshold }}</small>
                    {% endif %}
                </div>
            </article>
        </div>
        {% endif %} 
    </div>

    <article class="d-flex content-section">
        <div class="w-100">
    <h3 class='root-title text-center'>{% trans 'Total Games' %} ({{ games_count }})</h3> 
        </div>
    </article>

</div>