{% extends 'the_keep/base.html' %}
{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center;">
    <h1>Tournaments</h1>
    {% if user.profile.admin %}
    <a class="btn btn-outline-success btn-sm ml-2 mt-1 mb-1" href="{% url 'tournament-create' %}">New Tournament +</a>
    {% endif %}
</div>

{% if scheduled.count > 0 or future.count > 0 %}

    <div class="container mt-4">
        <!-- Tab navigation -->
        <ul class="nav nav-tabs" id="tournamentTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="concluded-tab" data-bs-toggle="tab" href="#concluded" role="tab" aria-controls="concluded" aria-selected="false">Concluded</a>
            </li>

            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="ongoing-tab" data-bs-toggle="tab" href="#ongoing" role="tab" aria-controls="ongoing" aria-selected="false">Ongoing</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="scheduled-tab" data-bs-toggle="tab" href="#scheduled" role="tab" aria-controls="scheduled" aria-selected="true">Scheduled</a>
            </li>
        </ul>

        <!-- Tab content -->
        <div class="tab-content" id="tournamentTabsContent">
            <!-- Scheduled Tournaments -->
            <div class="tab-pane fade" id="scheduled" role="tabpanel" aria-labelledby="scheduled-tab">
                <h3>Scheduled Tournaments</h3>
                {% with scheduled as tournaments %}
                    {% include 'the_warroom/partials/tournament_list.html' %}
                {% endwith %}
            </div>

            <!-- Ongoing Tournaments -->
            <div class="tab-pane fade show active" id="ongoing" role="tabpanel" aria-labelledby="ongoing-tab">
                <h3>Ongoing Tournaments</h3>

                {% with ongoing as tournaments %}
                    {% include 'the_warroom/partials/tournament_list.html' %}
                {% endwith %}
            </div>

            <!-- Concluded Tournaments -->
            <div class="tab-pane fade" id="concluded" role="tabpanel" aria-labelledby="concluded-tab">
                <h3>Concluded Tournaments</h3>
                {% with concluded as tournaments %}
                    {% include 'the_warroom/partials/tournament_list.html' %}
                {% endwith %}
            </div>
        </div>
    </div>
{% else %}
    
    <article class="media content-section">
        <div class="media-body">
        <h3>Ongoing Tournaments</h3>
        {% with ongoing as tournaments %}
            {% include 'the_warroom/partials/tournament_list.html' %}
        {% endwith %}
        </div>
    </article>
{% endif %}

{% endblock%}
